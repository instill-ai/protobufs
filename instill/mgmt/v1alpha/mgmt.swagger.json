{
  "swagger": "2.0",
  "info": {
    "title": "instill/mgmt/v1alpha/mgmt.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "UserService"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/__liveness": {
      "get": {
        "summary": "Liveness method receives a LivenessRequest message and returns a\nLivenessResponse message.\nSee https://github.com/grpc/grpc/blob/master/doc/health-checking.md",
        "operationId": "UserService_Liveness",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/instillmgmtv1alphaLivenessResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "health_check_request.service",
            "description": "Service name to check for its readiness status.",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "UserService"
        ]
      }
    },
    "/__readiness": {
      "get": {
        "summary": "Readiness method receives a ReadinessRequest message and returns a\nReadinessResponse message.\nSee https://github.com/grpc/grpc/blob/master/doc/health-checking.md",
        "operationId": "UserService_Readiness",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/instillmgmtv1alphaReadinessResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "health_check_request.service",
            "description": "Service name to check for its readiness status.",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "UserService"
        ]
      }
    },
    "/health/mgmt": {
      "get": {
        "summary": "Liveness method receives a LivenessRequest message and returns a\nLivenessResponse message.\nSee https://github.com/grpc/grpc/blob/master/doc/health-checking.md",
        "operationId": "UserService_Liveness2",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/instillmgmtv1alphaLivenessResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "health_check_request.service",
            "description": "Service name to check for its readiness status.",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "UserService"
        ]
      }
    },
    "/users": {
      "get": {
        "summary": "ListUser method receives a ListUserRequest message and returns a\nListUserResponse message.",
        "operationId": "UserService_ListUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1alphaListUserResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "page_size",
            "description": "Page size.",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "page_cursor",
            "description": "Page cursor.",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "UserService"
        ]
      }
    },
    "/{name}": {
      "get": {
        "summary": "GetUser method receives a GetUserRequest message and returns\na GetUserResponse message.",
        "operationId": "UserService_GetUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1alphaGetUserResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "name",
            "description": "Resource name of a user. For example:\n\"users/instill\"",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "users/[^/]+"
          }
        ],
        "tags": [
          "UserService"
        ]
      }
    },
    "/{user.name}": {
      "patch": {
        "summary": "UpdateUser method receives a UpdateUserRequest message and returns\na UpdateUserResponse",
        "operationId": "UserService_UpdateUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1alphaUpdateUserResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "user.name",
            "description": "Resource name of the user. It must have the format of \"users/*\".\nFor example: \"users/instill\".",
            "in": "path",
            "required": true,
            "type": "string",
            "pattern": "users/[^/]+"
          },
          {
            "name": "body",
            "description": "The user to update\n\nThe user's `name` field is used to identify the user to update.\nFormat: users/{user}",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1alphaUser"
            }
          },
          {
            "name": "field_mask",
            "description": "Update mask for a user instance.",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "UserService"
        ]
      }
    }
  },
  "definitions": {
    "googlerpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    },
    "instillmgmtv1alphaHealthCheckRequest": {
      "type": "object",
      "properties": {
        "service": {
          "type": "string",
          "title": "Service name to check for its readiness status"
        }
      },
      "title": "HealthCheckRequest represents a request to health check a service"
    },
    "instillmgmtv1alphaHealthCheckResponse": {
      "type": "object",
      "properties": {
        "status": {
          "$ref": "#/definitions/instillmgmtv1alphaHealthCheckResponseServingStatus",
          "title": "Status is the instance of the enum type ServingStatus"
        }
      },
      "title": "HealthCheckResponse represents a response for a service heath status"
    },
    "instillmgmtv1alphaHealthCheckResponseServingStatus": {
      "type": "string",
      "enum": [
        "SERVING_STATUS_UNSPECIFIED",
        "SERVING_STATUS_SERVING",
        "SERVING_STATUS_NOT_SERVING"
      ],
      "default": "SERVING_STATUS_UNSPECIFIED",
      "description": "- SERVING_STATUS_UNSPECIFIED: Serving status: UNSPECIFIED\n - SERVING_STATUS_SERVING: Serving status: SERVING\n - SERVING_STATUS_NOT_SERVING: Serving status: NOT SERVING",
      "title": "ServingStatus enumerates the status of a queried service"
    },
    "instillmgmtv1alphaLivenessResponse": {
      "type": "object",
      "properties": {
        "health_check_response": {
          "$ref": "#/definitions/instillmgmtv1alphaHealthCheckResponse",
          "title": "HealthCheckResponse message"
        }
      },
      "title": "LivenessResponse represents a response for a service liveness status"
    },
    "instillmgmtv1alphaReadinessResponse": {
      "type": "object",
      "properties": {
        "health_check_response": {
          "$ref": "#/definitions/instillmgmtv1alphaHealthCheckResponse",
          "title": "HealthCheckResponse message"
        }
      },
      "title": "ReadinessResponse represents a response for a service readiness status"
    },
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "v1alphaGetUserResponse": {
      "type": "object",
      "properties": {
        "user": {
          "$ref": "#/definitions/v1alphaUser",
          "title": "A user instance"
        }
      },
      "title": "GetUserResponse represents a response for a user instance"
    },
    "v1alphaListUserResponse": {
      "type": "object",
      "properties": {
        "users": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1alphaUser"
          },
          "title": "A list of users",
          "readOnly": true
        },
        "next_page_cursor": {
          "type": "string",
          "title": "Next page cursor",
          "readOnly": true
        }
      },
      "title": "ListUserResponse represents a response for a list of user roles"
    },
    "v1alphaUpdateUserResponse": {
      "type": "object",
      "properties": {
        "user": {
          "$ref": "#/definitions/v1alphaUser",
          "title": "A user instance"
        }
      },
      "title": "UpdateUserResponse represents a response for a user instance"
    },
    "v1alphaUser": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Resource name of the user. It must have the format of \"users/*\".\nFor example: \"users/instill\".",
          "readOnly": true
        },
        "id": {
          "type": "string",
          "title": "User ID in UUIDv4",
          "readOnly": true
        },
        "email": {
          "type": "string",
          "title": "User email"
        },
        "login": {
          "type": "string",
          "title": "User login user name, which is also the resource ID (the last segment of the resource name)",
          "required": [
            "login"
          ]
        },
        "company_name": {
          "type": "string",
          "title": "User company name"
        },
        "role": {
          "type": "string",
          "title": "User role\nAllowed roles:\n[ \"manager\", \"ai-researcher\", \"ai-engineer\", \"data-engineer\", \"data-scientist\",\n  \"analytics-engineer\", \"hobbyist\"]"
        },
        "usage_data_collection": {
          "type": "boolean",
          "title": "User usage data collection",
          "required": [
            "usage_data_collection"
          ]
        },
        "newsletter_subscription": {
          "type": "boolean",
          "title": "User newsletter subscription",
          "required": [
            "newsletter_subscription"
          ]
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "title": "User creation time",
          "readOnly": true
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "title": "User update time",
          "readOnly": true
        }
      },
      "title": "User represents the content of a user",
      "required": [
        "login",
        "usage_data_collection",
        "newsletter_subscription"
      ]
    }
  }
}
